/*----------------------------------------------------------------------------*/
/* Category Page
/*----------------------------------------------------------------------------*/

.catalog-category-view,
.catalogsearch-result-index {

    .main {
        @include global-page-margin-side;
    }

    .category-title {
       display: none;
    }

    .category-image {
        margin: 1em 0 0 0;

        img {
            @include responsive-img;
        }
    }

    .category-description {

        h3 {
            margin: 1em 0 0 0;
            padding: 0;
            @include font-family('Roboto Light');
            @include responsive-font-size(14);
            text-transform: none;
            line-height: 20px;
            color: #404041;
        }
    }

    .products-grid {
        list-style: none;
        width: 100%;

        .price-box {
            margin-bottom: 23px;
        }
    }
}

/*----------------------------------------------------------------------------*/
/* Product Actions
/*----------------------------------------------------------------------------*/
.products-grid {

    .actions {
        height: 0; // Prevent Magento js from setting height/padding for hidden actions block;
        display: none;
    }
}

/*----------------------------------------------------------------------------*/
/* Infinite Scroll
/*----------------------------------------------------------------------------*/

.ajax-loader {
    margin: 1em 0 0 0;

    &:after {
        content: 'Scroll For More Products';
        display: block;
        margin: 1em 0 0 0;
        @include font-family('Roboto Bold');
        @include responsive-font-size(13);
        text-align: center;
        text-transform: uppercase;
        color: #404041;
    }

    img {
        margin: 0 auto;
    }
}

/*----------------------------------------------------------------------------*/
/* Grid Price Box
/*----------------------------------------------------------------------------*/

// Base price style.
price {
    @include font-family('Roboto Bold');

    @include breakpoint(desktop) {
	    @include responsive-font-size(strip-units($f-size-s));
    }
    
    @include breakpoint(mobile) {
	    @include responsive-font-size(strip-units($f-size-xs));
    }
}

.price-box {
	@extend price;
    margin: 0 auto;
    padding: 0;
    text-align: center;

    p {
        margin: 0;
    }

    .regular-price .price {
        @extend price;
        color: $c-text;
    }

    .old-price {
		@include breakpoint(desktop) {
		    margin-right: 18px;
	    }
	    
	    @include breakpoint(mobile) {
		    margin-right: 10px;
	    }
	    
        .price-label {
            display: none;
        }

        .price {
	        @extend price;
	        @include font-family('Roboto Regular');
            color: #c3c3c3;
            text-decoration: line-through;
        }
    }

    .special-price {
        display: inline-block;
        padding: 0;

        .price-label {
            display: none;
        }

        .price {
            @extend price;
            color: $c-red;
        }
    }

    // Configurable.
    .minimal-price-link {
        display: none;

        .price-label {
        }

        .price {
        }
    }

    // Bundle.
    .minimal-price {

        .price-label {
            @include responsive-font-size(14);
        }

        .price {
            @extend price;
        }
    }
}

/*----------------------------------------------------------------------------*/
/* Products Grid
/*----------------------------------------------------------------------------*/

.products-grid,
.mini-products-list { // upsell w/ checkbox
	
    $itemPaddingRight: 0;

    @include clearfix;
    margin: 0 auto !important;
	width: 100%;
	
    .item {
        width: 24%;
        float: left;
        margin: 0;
        padding: 0 0 0 ($itemPaddingRight*1px);
        list-style: none;
        @include box-sizing(border-box);

        @include breakpoint(mobile) {
            width: 50%;
        }

        @include breakpoint(phone) {
            width: 100%;
        }
        
        &:not(:nth-child(4n)) {
			margin-right: 1.2%;
		}
		
		&:nth-child(4n+1) {
			clear: left;
		}

        .product-image {
            display: block;
            border: none;
            @include responsive-img-container();
			@include global-opacity-onhover(0.8, 80);
			
            img {
                @include responsive-img();
            }
        }

        .product-info {
            min-height: 90px !important; // Prevent grid stacking issues e.g. one item in row.
        }

		.product-name,
		.product-brand {
			@include responsive-font-size(strip-units($f-size-s));
			@include font-family('Roboto Regular');
			color: $c-text-gray;
			text-align: center;
		    
		    @include breakpoint(desktop) {
			    @include responsive-font-size(strip-units($f-size-xs));
		    }
		    
		    @include breakpoint(mobile) {
			    @include responsive-font-size(strip-units($f-size));
		    }
		}

        .product-name {
            //min-height: 3em; // Allow product names to be 3 lines.
            margin: 0;
            padding: 5px 0 0 0;
            border: none;

            @include breakpoint(mobile) {
                min-height: 0;
            }

            a {
                font-family: inherit;
                font-size: inherit;
                color: inherit;
                text-decoration: inherit;
            }
        }
        
        .product-brand {
	        text-transform: none;
        }
    }
}

/*----------------------------------------------------------------------------*/
/* Toolbar
/*----------------------------------------------------------------------------*/

.toolbar {
	@include responsive-line-height(25);
    margin: 20px 0;
    padding: 0;
    background-color: transparent;
    border: none;
	
	&:first-child {
		margin: 0 auto 5px auto;;
		
		.pager {
			float: left;
		}
		
		.count-container .amount {
			@include font-family('Roboto Regular');
	        @include responsive-font-size(strip-units($f-size-xs));
	        @include responsive-line-height(25);
	        margin-bottom: 0;
	        text-transform: lowercase;
	        
	        strong {
		        font-weight: inherit;
	        }
	    }
		
	}
	
	.limiter,
	.pages {
		display: none;
	}
	
    .sorter {
        float: right;
		margin-bottom: 0;
		
		.view-mode {
			display: none;
		}
		
        .sort-by {
            float: right;
            height: 25px;
            margin-right: 0;
			
            label {
                @include font-family('Roboto Regular');
                @include responsive-font-size(strip-units($f-size-xs));
                margin-right: 10px;
                text-transform: uppercase;
            }
            
            label:after {
				display: none;
			}

            select {
	            @include background-retina('sprites/icon_select-arrow.png','sprites2x/icon_select-arrow.png');
	            @include responsive-font-size(strip-units($f-size-xs));
	            @include responsive-line-height(20);
	            background-color: $c-white;
	            background-position: 95% 50%;
	            background-repeat: no-repeat;
                height: 20px;
                padding: 0 0 0 5px;
                //vertical-align: middle;
                width: 75px;
            }

            a {
	            height: auto;
                vertical-align: middle;
                width: auto;
                
                &.sort-by-switcher--desc,
                &.sort-by-switcher--asc {
	                @include responsive-line-height(10);
	                font-size: 0;
	                background: none;
	                display: inline-block;
	                margin-left: 5px;
	                text-indent: inherit;
	            }
	            
	            &.sort-by-switcher--asc:before{
		            @include global-font-awesome($f-size-s);
		            content: '\f062';
		        }
		        
		        &.sort-by-switcher--desc:before {
			        @include global-font-awesome($f-size-s);
			        content: '\f063';
		        }
            }
        }
    }
}

.toolbar-bottom {
    .sorter,
    .count-container,
    .pages > strong {
	    display: none;
	}
	
	.pager,
	.pages {
		float: none !important;
		width: 100%;
	}
	
	.pages {
		display: block;
		height: 25px;
		position: relative;
		
		.current {
			@include font-family('Roboto Bold');
			border: none;
		}
		
		ol {
			left: 50%;
			position: absolute;
			top: 0;
			transform: translateX(-50%);
			
			li {
				@include responsive-line-height(30);
				display: inline-block;
				float: none;
				height: 30px;
			}
			
			li a {
				@include font-family('Roboto Light');
				color: $c-text;
			}
			
			li a:hover {
				text-decoration: none;
			}
			
			.next:before,
			.previous:before {
				margin-top: 0;
				transform: translateY(-50%);
			}
			
			.next:hover,
			.previous:hover {
				border: none;
			}
			
			li a:hover,
			.next:hover,
			.previous:hover {
				@include global-opacity-onhover(0.4,40);
			}
			
			.previous:before {
				border-right-color: $c-text;
			}
			
			.next:before {
				border-left-color: $c-text;
			}
		}
	}
}